!function(a,b){var c=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},d=function(a,b){var c=a.split("").reduce(function(a,b){return b===a[0]&&(a=a.substr(1)),a},b);return c.length?0:1},e=function(a,b){return a.split("/").reduce(function(a,b){return a===!1||""===b?a:a[b]&&"object"==typeof a[b]?a[b]:!1},b)},f=function(a,b){this.data=a||{},this.options=c({matchWith:d},b),this.listFiles=function(a,b){b=b||this.data,a=a||"",a&&"/"!==a[a.length-1]&&(a+="/");var c=[];for(var d in b)"string"==typeof b[d]?c.push(a+d):this.listFiles(a+d+"/",b[d]).forEach(function(a){c.push(a)});return c},this.find=function(a){var b=this.listFiles(),c=this.options.matchWith;return b.map(function(b){return{score:c(b,a),file:b}}).filter(function(a){return a.score>0}).sort(function(a,b){return b.score-a.score})},this.touch=function(a){var b,c=this.data;if(a.indexOf("/")>-1){var b=a.split("/");a=b.pop(),c=e(b.join("/"),c)}return c===!1?!1:(c[a]="",!0)},this.mkdir=function(a){var b,c=this.data;if(a.indexOf("/")>-1){var b=a.split("/");a=b.pop(),c=e(b.join("/"),c)}return c===!1?!1:(c[a]={},!0)},this.rm=function(a){var b=this.data;if(a.indexOf("/")>-1){var c=a.split("/");a=c.pop(),b=e(c.join("/"),b)}return b!==!1&&b[a]?(delete b[a],!0):!1},this["export"]=function(){return this.data},this.read=function(a){var b=this.data;if(a.indexOf("/")>-1){var c=a.split("/");a=c.pop(),b=e(c.join("/"),b)}return b!==!1&&b[a]?b[a]:!1},this.save=function(a,b){var c=this.data;if(a.indexOf("/")>-1){var d=a.split("/");a=d.pop(),c=e(d.join("/"),c)}return c!==!1&&c[a]?(c[a]=b,!0):!1}};a.DirectoryStructure=f}(this),"undefined"!=typeof module&&(module.exports=this.DirectoryStructure);