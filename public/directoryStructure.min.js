(function(t,r){var i=function(t,r){var i={};for(var n in t){i[n]=t[n]}for(var n in r){i[n]=r[n]}return i};var n=function(t,r){var i=t.split("").reduce(function(t,r){if(r===t[0]){t=t.substr(1)}return t},r);if(i.length){return 0}return 1};var e=function(t,r){return t.split("/").reduce(function(t,r){if(t===false||r===""){return t}if(t[r]&&typeof t[r]==="object"){return t[r]}return false},r)};var f=function(t,r){this.data=t||{};this.options=i({matchWith:n},r);this.listFiles=function(t,r){r=r||this.data;t=t||"";if(t&&t[t.length-1]!=="/"){t=t+"/"}var i=[];for(var n in r){if(typeof r[n]==="string"){i.push(t+n)}else{this.listFiles(t+n+"/",r[n]).forEach(function(t){i.push(t)})}}return i};this.find=function(t){var r=this.listFiles();var i=this.options.matchWith;return r.map(function(r){return{score:i(r,t),file:r}}).filter(function(t){return t.score>0}).sort(function(t,r){return r.score-t.score})};this.touch=function(t){var r,i=this.data;if(t.indexOf("/")>-1){var r=t.split("/");t=r.pop();i=e(r.join("/"),i)}if(i===false){return false}i[t]="";return true};this.mkdir=function(t){var r,i=this.data;if(t.indexOf("/")>-1){var r=t.split("/");t=r.pop();i=e(r.join("/"),i)}if(i===false){return false}i[t]={};return true};this.rm=function(t){var r=this.data;if(t.indexOf("/")>-1){var i=t.split("/");t=i.pop();r=e(i.join("/"),r)}if(r===false||!r[t]){return false}delete r[t];return true};this.export=function(){return this.data};this.read=function(t){var r=this.data;if(t.indexOf("/")>-1){var i=t.split("/");t=i.pop();r=e(i.join("/"),r)}if(r===false||!r[t]){return false}return r[t]};this.save=function(t,r){var i=this.data;if(t.indexOf("/")>-1){var n=t.split("/");t=n.pop();i=e(n.join("/"),i)}if(i===false||!i[t]){return false}i[t]=r;return true}};t.DirectoryStructure=f})(this);if(typeof module!=="undefined"){module.exports=this.DirectoryStructure}